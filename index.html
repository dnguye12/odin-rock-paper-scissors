<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Odin Project - Rock Paper Scissors</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>
    <body>
      <div id="container">
        <button type="button" id="rock">Rock</button>
        <button type="button" id="paper">Paper</button>
        <button type="button" id="sci">Scissors</button>
      </div>
      </body>
    
</html>
<script>
  let con = document.getElementById("container");
  const buttons = document.querySelectorAll("button");

  let pC = "";

  buttons.forEach((button) => {
    button.addEventListener("click", () => {
        pC = button.textContent.toLowerCase();
        play();
    });
  });
  function getComputerChoice(){
      let n = Math.floor(Math.random() * 3);
      if(n == 0) {
          return "rock";
      }else if(n == 1) {
          return "paper";
      }else {
          return "scissors";
      }
  }

  function playRound(pS, cS ) {
      if(pS == cS) {
          return "It's a tie!";
      }
      if((pS == "rock" && cS == "paper") || (pS == "paper" && cS == "scissors") || (pS == "scissors" && cS == "rock")) {
return `You lose! ${cS} beats ${pS}`;
      }else {
          return `You win! ${pS} beats ${cS}`;
      }
  }
  let pS = 0;
  let cS = 0;
  function play() {
      
          if(pS == 5) {
              console.log("You won");
          }
          else if(cS == 5) {
              console.log("The computer won");
          }else {
          let res = playRound(pC, getComputerChoice());
          console.log(res);
          if(res.includes("lose")) {
              cS++;
          }else if(res.includes("win")) {
              pS++;
          }
        }
      
  }
</script>